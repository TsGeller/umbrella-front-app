<header
  class="sticky top-0 z-[700] w-full backdrop-blur-2xl bg-transparent border-b border-white/10
         shadow-[0_4px_20px_rgba(0,0,0,0.02)]"
>
  <div class="flex items-center justify-between px-10 py-4">
    <!-- Gauche -->
    <div class="flex items-center gap-2">
      <h1 class="text-lg md:text-3xl font-semibold text-gray-800 tracking-wide">
        Welcome back,
        <span class="text-black font-bold">{{ username || 'Guest' }}</span>
      </h1>
    </div>

    <!-- Droite -->
    <div class="flex items-center gap-3">
      @if (!isLoggedIn) {
        <button
          (click)="goToLogin()"
          class="px-5 py-2 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-400
                 text-sm font-medium text-white shadow-md hover:shadow-lg hover:scale-105
                 active:scale-95 transition-all duration-200"
        >
          Login
        </button>
      }

      @if (isLoggedIn) {
        <div class="profile-menu" (click)="$event.stopPropagation()">
          <button
            type="button"
            class="profile-trigger"
            (click)="toggleProfileMenu()"
            [attr.aria-expanded]="isProfileMenuOpen"
          >
            <span class="profile-initial">{{ firstLetter }}</span>
            <svg
              class="chevron"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6 9L12 15L18 9"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          @if (isProfileMenuOpen) {
            <div class="profile-dropdown">
              <button type="button" (click)="goToChangePassword()">
                Change password
              </button>
              <button type="button" (click)="logout()">
                Logout
              </button>
            </div>
          }
        </div>
      }
    </div>
  </div>
</header>
